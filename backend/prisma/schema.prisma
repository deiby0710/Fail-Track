// prisma/schema.prisma
generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model RegistroErrores {
    id         Int       @id @default(autoincrement())
    nombre     String    @db.VarChar(100)
    tipoError  String
    punto      String    @db.VarChar(40)
    modalidad  String    @db.VarChar(20)
    fecha      DateTime
    eps        String    @db.VarChar(40)
    createdBy  String    @db.VarChar(50)
    createdAt  DateTime  @default(now())
    updatedAt  DateTime  @updatedAt

    @@index([fecha])
    @@index([tipoError])
    @@index([punto])
}

model Devoluciones {
    id               Int       @id @default(autoincrement())
    fechaEnvio       DateTime
    fechaDevolucion  DateTime? 
    numFactura       String    @db.VarChar(30)
    punto            String    @db.VarChar(40)
    tipoContrato     String    @db.VarChar(20)
    facturaNueva     String?   @db.VarChar(20)
    modalidad        String    @db.VarChar(20)
    createdBy        String    @db.VarChar(50)
    createdAt        DateTime  @default(now())
    updatedAt        DateTime  @updatedAt

    @@index([fechaEnvio])
    @@index([punto])
    @@index([tipoContrato])
}

model Usuarios {
    id             Int     @id @default(autoincrement())
    nombre         String? @db.VarChar(100)
    identificacion String? @db.VarChar(20)
    username       String  @unique  @db.VarChar(50) 
    password       String? @db.VarChar(60)
    punto          String? @db.VarChar(50)
    role_failtrack String? @db.VarChar(10)

    @@index([identificacion])
}